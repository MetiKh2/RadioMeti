@using RadioMeti.Application.DTOs.Music
@using RadioMeti.Application.Utilities.Utils
@model MusicsPageDto
@{
    ViewData["Title"] = "Musics";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="mainContent" id="mp3s">
    @await Component.InvokeAsync("SiteSlider",new {model=Model.Sliders})
    <div class="leaderboard_ad frontpage">
        <div style="width: 970px; margin:0 auto;">

            <div class="gpt-ad" id="div-gpt-ad-8782011" data-gpt-div-id="div-gpt-ad-8782011" data-gpt-path="/7048279/SectionsBillboard" data-gpt-dimensions="[970, 250]" data-gpt-channel="9497573784" style="display: none;" data-google-query-id="CMLfzvjYp_cCFYm5dwodH9AM5g">
                <div id="google_ads_iframe_/7048279/SectionsBillboard_0__container__" style="border: 0pt none; width: 970px; height: 0px;"></div>
            </div>
        </div>
    </div>
    <div class="panelsContainer">
        <div class="mainPanel" id="trending_featured_latest">
            <dl class="tabs" data-tab="">
                <dd class="tab active"><a href="#panel2-1">Newest Songs In Site</a></dd>
                <dd class="tab"><a href="#panel2-2">Popular Songs</a></dd>
            </dl>
            <div class="tabs-content">
                <div class="content active" id="panel2-1">
                    <div class="grid" id="trending_mp3_container">
                        @if (Model.NewestMusics != null && Model.NewestMusics.Any())
                        {
                            @foreach (var item in Model.NewestMusics)
                            {
                                <div class="itemContainer">
                                    <a href="/music/@item.Id">
                                        <img src="images/blank.gif" data-src="@(item.AlbumId==null?PathExtension.CoverSingleTrackThumbPath+item.Cover:PathExtension.CoverAlbumMusicThumbPath+item.Cover)" alt="Alireza JJ - &#39;Ghesmate Man (Ft Shayan Eshraghi)&#39;" class="lazyload" border="0" />
                                        <div class="songInfo">
                                            <span class="artist">@(item.AlbumId==null?string.Join(" ft ",item.ArtistMusics.Select(p=>p.Artist.FullName).ToList()):string.Join(" ft ",item.Album.ArtistAlbums.Select(p=>p.Artist.FullName).ToList()))</span>
                                            <span class="song">@item.Title</span>
                                        </div>
                                    </a>
                                    <button class="button textButton light mp3_playlist_add add_playlist" mp3id="104464">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" class="addSognIcon icon">
                                            <path d="M13,11 L21.0081969,11 C21.5446944,11 22,11.4477153 22,12 C22,12.5561352 21.5559546,13 21.0081969,13 L13,13 L13,21.0081969 C13,21.5446944 12.5522847,22 12,22 C11.4438648,22 11,21.5559546 11,21.0081969 L11,13 L2.99180311,13 C2.45530558,13 2,12.5522847 2,12 C2,11.4438648 2.44404538,11 2.99180311,11 L11,11 L11,2.99180311 C11,2.45530558 11.4477153,2 12,2 C12.5561352,2 13,2.44404538 13,2.99180311 L13,11 Z" id="path-1"></path>
                                        </svg>
                                    </button>
                                </div>
                            }
                        }
                        <div class="itemContainer">
                            <a asp-area="" asp-controller="Music" asp-action="ShowAllMusics" class="viewMore">View All</a>
                        </div>
                    </div>
                </div>
                <div class="content" id="panel2-2">
                    <div class="grid" id="featured_mp3_container">
                        @if (Model.PopularMusics != null && Model.PopularMusics.Any())
                        {
                            @foreach (var item in Model.PopularMusics)
                            {
                                <div class="itemContainer">
                                   <a asp-area="" asp-controller="Music" asp-action="ShowMusic" asp-route-id="@item.Id">
                                        <img src="images/blank.gif" data-src="@(item.AlbumId==null?PathExtension.CoverSingleTrackThumbPath+item.Cover:PathExtension.CoverAlbumMusicThumbPath+item.Cover)" alt="" class="lazyload" border="0" />
                                        <div class="songInfo">
                                            <span class="artist">@(item.AlbumId==null?string.Join(" ft ",item.ArtistMusics.Select(p=>p.Artist.FullName).ToList()):string.Join(" ft ",item.Album.ArtistAlbums.Select(p=>p.Artist.FullName).ToList()))</span>
                                            <span class="song">@item.Title</span>
                                        </div>
                                    </a>
                                    <button class="button textButton light mp3_playlist_add add_playlist" mp3id="104464">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" class="addSognIcon icon">
                                            <path d="M13,11 L21.0081969,11 C21.5446944,11 22,11.4477153 22,12 C22,12.5561352 21.5559546,13 21.0081969,13 L13,13 L13,21.0081969 C13,21.5446944 12.5522847,22 12,22 C11.4438648,22 11,21.5559546 11,21.0081969 L11,13 L2.99180311,13 C2.45530558,13 2,12.5522847 2,12 C2,11.4438648 2.44404538,11 2.99180311,11 L11,11 L11,2.99180311 C11,2.45530558 11.4477153,2 12,2 C12.5561352,2 13,2.44404538 13,2.99180311 L13,11 Z" id="path-1"></path>
                                        </svg>
                                    </button>
                                </div>
                            }
                        }
                         
                    </div>
                </div>
            </div>
        </div>
        <div class="sidePanel" id="side_bar ">
            <div class="">
                <div id="sidebar_ad">
                </div>
                <div id="popular_tabs" style="" class="">
                    <dl class="tabs" data-tab="">
                        <dd class="tab active"><a href="#this_month">This Month</a></dd>
                        <dd class="tab"><a href="#this_week">This Week</a></dd>
                        <dd class="tab"><a href="#this_day">This Day</a></dd>
                    </dl>
                    <div class="tabs-content">
                        <div class="content" id="this_week">
                            <ul class="listView">
                                @if (Model.ThisWeekMusics != null && Model.ThisWeekMusics.Any())
                                {
                                    @foreach (var item in Model.ThisWeekMusics)
                                    {
                                        <li>
                                           <a asp-area="" asp-controller="Music" asp-action="ShowMusic" asp-route-id="@item.Id">
                                                <img src="@(item.AlbumId==null?PathExtension.CoverSingleTrackThumbPath+item.Cover:PathExtension.CoverAlbumMusicThumbPath+item.Cover)" data-src="@(item.AlbumId==null?PathExtension.CoverSingleTrackThumbPath+item.Cover:PathExtension.CoverAlbumMusicThumbPath+item.Cover)" alt="Sasy - 'Maman Mano Bebakhsh'" class=" ls-is-cached lazyloaded" border="0">
                                                <div class="songInfo">
                                                    <span class="artist">@(item.AlbumId==null?string.Join(" ft ",item.ArtistMusics.Select(p=>p.Artist.FullName).ToList()):string.Join(" ft ",item.Album.ArtistAlbums.Select(p=>p.Artist.FullName).ToList()))</span>
                                                    <span class="song">@item.Title</span>
                                                </div>
                                            </a>

                                            <button class="button textButton light mp3_playlist_add_popular add_playlist" mp3id="105452">
                                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" class="addSognIcon icon">
                                                    <path d="M13,11 L21.0081969,11 C21.5446944,11 22,11.4477153 22,12 C22,12.5561352 21.5559546,13 21.0081969,13 L13,13 L13,21.0081969 C13,21.5446944 12.5522847,22 12,22 C11.4438648,22 11,21.5559546 11,21.0081969 L11,13 L2.99180311,13 C2.45530558,13 2,12.5522847 2,12 C2,11.4438648 2.44404538,11 2.99180311,11 L11,11 L11,2.99180311 C11,2.45530558 11.4477153,2 12,2 C12.5561352,2 13,2.44404538 13,2.99180311 L13,11 Z" id="path-1"></path>
                                                </svg>
                                            </button>
                                        </li>
                                    }
                                }
                            </ul>
                        </div>
                        <div class="content active" id="this_month">
                            <ul class="listView">
                                @if (Model.ThisMonthMusics != null && Model.ThisMonthMusics.Any())
                                {
                                    @foreach (var item in Model.ThisMonthMusics)
                                    {
                                        <li>
                                           <a asp-area="" asp-controller="Music" asp-action="ShowMusic" asp-route-id="@item.Id">
                                                <img src="@(item.AlbumId==null?PathExtension.CoverSingleTrackThumbPath+item.Cover:PathExtension.CoverAlbumMusicThumbPath+item.Cover)" data-src="@(item.AlbumId==null?PathExtension.CoverSingleTrackThumbPath+item.Cover:PathExtension.CoverAlbumMusicThumbPath+item.Cover)" alt="Sasy - 'Maman Mano Bebakhsh'" class=" ls-is-cached lazyloaded" border="0">
                                                <div class="songInfo">
                                                    <span class="artist">@(item.AlbumId==null?string.Join(" ft ",item.ArtistMusics.Select(p=>p.Artist.FullName).ToList()):string.Join(" ft ",item.Album.ArtistAlbums.Select(p=>p.Artist.FullName).ToList()))</span>
                                                    <span class="song">@item.Title</span>
                                                </div>
                                            </a>

                                            <button class="button textButton light mp3_playlist_add_popular add_playlist" mp3id="105452">
                                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" class="addSognIcon icon">
                                                    <path d="M13,11 L21.0081969,11 C21.5446944,11 22,11.4477153 22,12 C22,12.5561352 21.5559546,13 21.0081969,13 L13,13 L13,21.0081969 C13,21.5446944 12.5522847,22 12,22 C11.4438648,22 11,21.5559546 11,21.0081969 L11,13 L2.99180311,13 C2.45530558,13 2,12.5522847 2,12 C2,11.4438648 2.44404538,11 2.99180311,11 L11,11 L11,2.99180311 C11,2.45530558 11.4477153,2 12,2 C12.5561352,2 13,2.44404538 13,2.99180311 L13,11 Z" id="path-1"></path>
                                                </svg>
                                            </button>
                                        </li>
                                    }
                                }
                                <a href="/mp3s/browse/popular/month" class="button primaryButton viewMore">View More</a>
                            </ul>
                        </div>
                        <div class="content" id="this_day">
                            <ul class="listView">
                                @if (Model.ThisDayMusics != null && Model.ThisDayMusics.Any())
                                {
                                    @foreach (var item in Model.ThisDayMusics)
                                    {
                                        <li>
                                           <a asp-area="" asp-controller="Music" asp-action="ShowMusic" asp-route-id="@item.Id">
                                                <img src="@(item.AlbumId==null?PathExtension.CoverSingleTrackThumbPath+item.Cover:PathExtension.CoverAlbumMusicThumbPath+item.Cover)" data-src="@(item.AlbumId==null?PathExtension.CoverSingleTrackThumbPath+item.Cover:PathExtension.CoverAlbumMusicThumbPath+item.Cover)" alt="Sasy - 'Maman Mano Bebakhsh'" class=" ls-is-cached lazyloaded" border="0">
                                                <div class="songInfo">
                                                    <span class="artist">@(item.AlbumId==null?string.Join(" ft ",item.ArtistMusics.Select(p=>p.Artist.FullName).ToList()):string.Join(" ft ",item.Album.ArtistAlbums.Select(p=>p.Artist.FullName).ToList()))</span>
                                                    <span class="song">@item.Title</span>
                                                </div>
                                            </a>

                                            <button class="button textButton light mp3_playlist_add_popular add_playlist" mp3id="105452">
                                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" class="addSognIcon icon">
                                                    <path d="M13,11 L21.0081969,11 C21.5446944,11 22,11.4477153 22,12 C22,12.5561352 21.5559546,13 21.0081969,13 L13,13 L13,21.0081969 C13,21.5446944 12.5522847,22 12,22 C11.4438648,22 11,21.5559546 11,21.0081969 L11,13 L2.99180311,13 C2.45530558,13 2,12.5522847 2,12 C2,11.4438648 2.44404538,11 2.99180311,11 L11,11 L11,2.99180311 C11,2.45530558 11.4477153,2 12,2 C12.5561352,2 13,2.44404538 13,2.99180311 L13,11 Z" id="path-1"></path>
                                                </svg>
                                            </button>
                                        </li>
                                    }
                                }
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="albums">
        <div class="sectionTitle">
            <h2 class="title">New Albums</h2>
            <a asp-area="" asp-controller="Music" asp-action="ShowAllAlbums" class="viewMore button primaryButton">
                View More <i class="icon-chevron-right "></i>
            </a>
        </div>
        <div class="grid ">
            @if (Model.LastAlbums != null && Model.LastAlbums.Any())
            {
                @foreach (var item in Model.LastAlbums)
                {
                  <a asp-area="" asp-controller="Music" asp-action="ShowAlbum"  asp-route-albumId="@item.Id" class="play_all">
                <img src="@(PathExtension.CoverAlbumThumbPath+item.Cover)" data-src="@(PathExtension.CoverAlbumThumbPath+item.Cover)" alt="" class=" ls-is-cached lazyloaded" border="0">
                <div class="songInfo">
                    <span class="artist" title="Amirabbas Golab">@(string.Join(" ft ",item.ArtistAlbums.Select(p=>p.Artist.FullName).ToList()))</span>
                    <span class="song" title="Ay Mardom">@item.Title</span>
                </div>
            </a>
                }
            }
        </div>
    </div>
</div>
